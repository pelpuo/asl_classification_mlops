schema: '2.0'
stages:
  load_data:
    cmd: python src/stages/load_data.py --config=params.yaml
    deps:
    - path: src/stages/load_data.py
      md5: 7af5d642cd62c5eb31d5c14fdbfa19cf
      size: 882
    - path: src/utils/data_utils.py
      md5: 1c00de02505ecf8f1c9761fc489bae47
      size: 353
    params:
      params.yaml:
        base:
          project: asl_classification
        data_load:
          data_dir: data/sign_mnist_data.csv
          train_file_path: data/train_data.csv
          test_file_path: data/test_data.csv
          split: 0.25
    outs:
    - path: data/test_data.csv
      md5: 707926fda1d7902c7cda73b9df42e281
      size: 26274673
    - path: data/train_data.csv
      md5: 51adc2f4668f3ed15ea667141f3f50ee
      size: 78783877
  train:
    cmd: python src/stages/train.py --config=params.yaml
    deps:
    - path: data/train_data.csv
      md5: 51adc2f4668f3ed15ea667141f3f50ee
      size: 78783877
    - path: src/stages/train.py
      md5: 12f33a38e49ad392f1fcc06e563823fc
      size: 894
    - path: src/utils/train_utils.py
      md5: 5f74587a9e2427239a6542d53b411bb2
      size: 1551
    params:
      params.yaml:
        base:
          project: asl_classification
        data_load:
          data_dir: data/sign_mnist_data.csv
          train_file_path: data/train_data.csv
          test_file_path: data/test_data.csv
          split: 0.25
        train:
          epochs: 5
          batch_size: 128
          validation_split: 0.2
          model_path: models/model.h5
    outs:
    - path: models/model.h5
      md5: e9a03d2e9c916048be8dedea109a0d1f
      size: 2766832
  evaluate:
    cmd: python src/stages/eval.py --config=params.yaml
    deps:
    - path: data/test_data.csv
      md5: 707926fda1d7902c7cda73b9df42e281
      size: 26274673
    - path: models/model.h5
      md5: e9a03d2e9c916048be8dedea109a0d1f
      size: 2766832
    - path: src/stages/eval.py
      md5: e8d96901c2c93c06317bf32c974b586d
      size: 922
    - path: src/utils/eval_utils.py
      md5: 4820e6fef0fdfc4c00fb6d5b7a0b06f0
      size: 765
    params:
      params.yaml:
        base:
          project: asl_classification
        data_load:
          data_dir: data/sign_mnist_data.csv
          train_file_path: data/train_data.csv
          test_file_path: data/test_data.csv
          split: 0.25
        evaluate:
          save_test_preds: true
          metrics_file: evaluation/metrics.json
        train:
          epochs: 5
          batch_size: 128
          validation_split: 0.2
          model_path: models/model.h5
    outs:
    - path: evaluation/metrics.json
      md5: a893b1c352c89909dff8f99250e2a2d7
      size: 77
